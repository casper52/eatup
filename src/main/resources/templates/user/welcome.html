<!DOCTYPE html>
<html 
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" >
	
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>

<div class="container" id="main">
    <div class="col-md-6 col-md-offset-3">
        <div class="panel panel-default content-main">
                <div class="form-group">
                    <label for="userId">사용자 아이디</label>
                    <input class="form-control" id="uid" placeholder="User ID">
                </div>
                <div class="form-group">
                    <label for="password">비밀번호</label>
                    <input type="password" class="form-control" id="upw" placeholder="Password">
                </div>
                <div class="form-group">
                    <label for="password">비밀번호 확인</label>
                    <input type="password" class="form-control" id="upw2" placeholder="Password">
                </div>
                <div class="form-group">
                    <label for="name">닉네임</label>
                    <input class="form-control" id="nickname" th:placeholder="${vo.nickname}">
                </div>
                <div class="form-group">
                    <label for="email">이메일</label>
                    <input type="email" class="form-control" id="email" th:placeholder="${vo.email}">
                </div>
                <button id="joinBtn" class="btn btn-success clearfix pull-right">회원가입</button>
        </div>
    </div>
</div>
<form id="actionForm">
  <input type ="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
  <input type="hidden" name="sns_id" th:value="${sns_id}">
</form>
	
	<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>


<script>
$(document).ready(function(){
	
	var upw = $('#upw');
	var upw2 = $('#upw2');
	var uid = $('#uid');
	var email = $('#email');
	var nickname = $('#nickname');
	var actionForm = $('#actionForm');
	var joinBtn = $('#joinBtn');
	
	joinBtn.on("click", function(e){
		e.preventDefault();	
		console.log("joinBtn Clicked.......");
		var str = "";
		
		if (upw.val() != upw2.val()){
			alert("비밀번호와 비밀번호 확인란이 다릅니다.");
			return false;
			
		} else {
			
			str += "<input type='hidden' name='uid' value='" + uid.val() +"'>";
			str += "<input type='hidden' name='upw' value='" + upw.val() +"'>";
			str += "<input type='hidden' name='email' value='" + email.val() +"'>";
			str += "<input type='hidden' name='nickname' value='" + nickname.val() +"'>";
			
			actionForm.append(str);
			actionForm.attr("method", "post").attr("action", "/user/usercreate").submit();
		}
		
	});
});
</script>
</body>
</html>