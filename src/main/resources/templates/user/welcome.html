<!DOCTYPE html>
<html 
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" >
	
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
<div class="container" id="main">
    <div class="col-md-6 col-md-offset-3">
        <div class="panel panel-default content-main">
                <div class="form-group">
                    <label for="userId">사용자 아이디</label>
                    <input class="form-control" id="pid" placeholder="User ID">
                </div>
                <div class="form-group">
                    <label for="password">비밀번호</label>
                    <input type="password" class="form-control" id="ppw" placeholder="Password">
                </div>
                <div class="form-group">
                    <label for="password">비밀번호 확인</label>
                    <input type="password" class="form-control" id="ppw2" placeholder="Password">
                </div>
                <div class="form-group">
                    <label for="name">이름</label>
                    <input class="form-control" id="owner_name" placeholder="Name">
                </div>
                <div class="form-group">
                    <label for="name">전화번호</label>
                    <input class="form-control" id="owner_num" placeholder="Name">
                </div>
                <div class="form-group">
                    <label for="email">이메일</label>
                    <input type="email" class="form-control" id="pmail" placeholder="Email">
                </div>
                <button id="joinBtn" class="btn btn-success clearfix pull-right">회원가입</button>
        </div>
    </div>
</div>
<form id="actionForm">
  <input type ="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/> 
</form>
	
	<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  	
<script>
$(document).ready(function(){
	
	var ppw = $('#ppw');
	var ppw2 = $('#ppw2');
	var pid = $('#pid');
	var pmail = $('#pmail');
	var owner_name = $('#owner_name');
	var owner_num = $('#owner_num');
	var actionForm = $('#actionForm');
	var joinBtn = $('#joinBtn');
	
	joinBtn.on("click", function(e){
		e.preventDefault();	
		console.log("joinBtn Clicked.......");
		var str = "";
		
		if (ppw.val() != ppw2.val()){
			alert("비밀번호와 비밀번호 확인란이 다릅니다.");
			return false;
			
		} else {
			
			str += "<input type='hidden' name='pid' value='" + pid.val() +"'>";
			str += "<input type='hidden' name='ppw' value='" + ppw.val() +"'>";
			str += "<input type='hidden' name='pmail' value='" + pmail.val() +"'>";
			str += "<input type='hidden' name='owner_num' value='" + owner_num.val() +"'>";
			str += "<input type='hidden' name='owner_name' value='" + owner_name.val() +"'>";
			
			actionForm.append(str);
			actionForm.attr("method", "post").attr("action", "/partner/partnercreate").submit();
		}
		
	});
});
</script>
</body>
</html>